# python中的深拷贝和浅拷贝

## 浅拷贝（copy）

1、对于不可变类型 Number 、String 、Tuple，浅拷贝仅仅是地址的指向，并不会开辟新的地址空间。

2、对于可变数据类型 List 、Dictionary 、Set，浅拷贝会开辟新的地址空间（仅仅是最顶层开辟新的地址空间，里面的元素地址还是一样的），进行浅拷贝。

3、浅拷贝后，改变原始对象中可变数据类型的元素的值，会同时影响拷贝对象的元素的值；改变原始对象中不可变数据类型的元素的值，只有原始对象里面的值会改变。（操作拷贝对象对原始对象的也是同理）

## 深拷贝 （deepcopy）

1、在深拷贝中，对于不可变数据类型 Number 、String 、Tuple，深拷贝仍然是地址的指向，并不会开辟新的地址空间。

2、对于可变数据类型 List 、Dictionary 、Set，深拷贝会开辟新的地址空间（最顶层地址和里面的元素地址都会开辟新的地址空间），进行深拷贝。

3、深拷贝后，改变原始对象中的值（不区分可变类型和不可变类型），只有原始对象中的值受影响，拷贝对象不会被影响；同理，改变拷贝对象中的值（不区分可变类型和不可变类型），只有拷贝对象中的值受影响，原始对象不会被影响。


## 示例

```python
1. copy.copy 浅拷贝 只拷贝父对象，不会拷贝对象的内部的。
2. copy.deepcopy 深拷贝 拷贝对象及其
一个很好的例子：
import copy
a = [1, 2, 3, 4, ['a', 'b']]  #原始对象

b = a  #赋值，传对象的引用
c = copy.copy(a)  #对象拷贝，浅拷贝
d = copy.deepcopy(a)  #对象拷贝，深拷贝

a.append(5)  #修改对象a
a[4].append('c')  #修改对象a中的['a', 'b']

print 'a = ', a
print 'b = ', b
print 'c = ', c
print 'd = ', d
输出结果：
a =  [1, 2, 3, 4, ['a', 'b', 'c'], 5]
b =  [1, 2, 3, 4, ['a', 'b', 'c'], 5]
c =  [1, 2, 3, 4, ['a', 'b', 'c']]
d =  [1, 2, 3, 4, ['a', 'b']]
```

## 链接

[https://www.huaweicloud.com/articles/794209a39c4555eb5a62145b66b69587.html](https://www.huaweicloud.com/articles/794209a39c4555eb5a62145b66b69587.html)

[https://juejin.cn/post/6844903912634318856](https://juejin.cn/post/6844903912634318856)




